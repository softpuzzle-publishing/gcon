<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>gcon</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../../../resources/css/reset.css">
    <link rel="stylesheet" href="../../../resources/plugins/fontawesome-free/css/all.min.css">
    <link rel="stylesheet" href="../../../resources/plugins/daterangepicker/daterangepicker.css">
    <link rel="stylesheet" href="../../../resources/css/adminlte.css">
    <link rel="stylesheet" href="../../../resources/plugins/overlayScrollbars/css/OverlayScrollbars.min.css">
    <link rel="stylesheet" href="../../../resources/css/style.css">
    <!-- jQuery -->
    <script src="../../../resources/plugins/jquery/jquery.min.js"></script>
    <!-- jQuery UI 1.11.4 -->
    <script src="../../../resources/plugins/jquery-ui/jquery-ui.min.js"></script>
    <!-- Bootstrap 4 -->
    <script src="../../../resources/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- moment -->
    <script src="../../../resources/plugins/moment/moment.min.js"></script>
    <!-- date-range-picker -->
    <script src="../../../resources/plugins/daterangepicker/daterangepicker.js"></script>
    <!-- overlayScrollbars -->
    <script src="../../../resources/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
    <!-- ChartJS js -->
    <script src="../../../resources/plugins/chart.js/Chart.min.js"></script>
</head>

<body class="sidebar-mini layout-fixed layout-navbar-fixed">
    <div class="wrapper">

        <div id="header-include">
            <!-- header include 개발시 상위 div 삭제 요망 -->
        </div>

        <div class="body-container">
            <div id="aside-include">
                <!-- aside include 개발시 상위 div 삭제 요망 -->
            </div>


            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">

                <div id="location-include">
                    <!-- location include 개발시 상위 div 삭제 요망 -->
                </div>

                <!-- Main content -->
                <section class="content">
                    <div class="container-fluid">

                        <!-- content 시작 -->
                        <input type="hidden" id=" page-title" value="접수통계">
                        <div class="contest-select-wrap callout callout-primary">
                            <div class="row justify-content-center">
                                <div class="col-auto">
                                    <div class="btn-group" role="group">
                                        <button type="button" class="btn btn-outline-dark active">최근1일</button>
                                        <button type="button" class="btn btn-outline-dark">7일</button>
                                        <button type="button" class="btn btn-outline-dark">30일</button>
                                        <button type="button" class="btn btn-outline-dark">직접입력</button>
                                    </div>
                                </div>
                                <div class="col-auto">
                                    <div class="input-group" style="width:240px">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text"><i class="far fa-calendar-alt"></i></span>
                                        </div>
                                        <input type="text" class="form-control float-right" data-event="rangeDatepicker" id="date-range" disabled>
                                    </div>
                                </div>
                                <div class="col-auto">
                                    <button type="button" class="btn btn-dark">확인</button>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-body">
                                <div class="row justify-content-center">
                                    <div class="col-3">
                                        <div class="small-box bg-light">
                                            <div class="inner">
                                                <p>방문통계</p>
                                                <h4 class="mb-0">1,856</h4>
                                            </div>
                                            <div class="icon">
                                                <i class="ion ion-bag"></i>
                                            </div>
                                            <a href="#"><i class="fas fa-arrow-circle-right"></i></a>
                                        </div>
                                    </div>
                                    <div class="col-3">
                                        <div class="small-box bg-light">
                                            <div class="inner">
                                                <p>클릭수 </p>
                                                <h4 class="mb-0">1,856</h4>
                                            </div>
                                            <div class="icon">
                                                <i class="ion ion-bag"></i>
                                            </div>
                                            <a href="#"><i class="fas fa-arrow-circle-right"></i></a>
                                        </div>
                                    </div>
                                </div>

                                <nav class="dashboard-tab">
                                    <ul class="nav nav-tabs nav-justified" role="tablist">
                                        <li class="nav-item">
                                            <a class="nav-link active" data-toggle="pill" href="#t1" role="tab">부문별</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" data-toggle="pill" href="#t2" role="tab">유형별</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" data-toggle="pill" href="#t3" role="tab">성별</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" data-toggle="pill" href="#t4" role="tab">연령별</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" data-toggle="pill" href="#t5" role="tab">지역별</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link bg-blue" data-toggle="pill" href="#t6" role="tab">기간별</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link bg-blue" data-toggle="pill" href="#t7" role="tab">시간별</a>
                                        </li>
                                    </ul>
                                </nav>
                                <div class="tab-content">
                                    <div class="tab-pane fade active show" id="t1" role="tabpanel">
                                        <div class="row">
                                            <div class="col">
                                                <div class="pie-area">
                                                    <canvas id="myChart1-1"></canvas>
                                                </div>
                                            </div>
                                            <div class="col">
                                                <div class="bar-area">
                                                    <canvas id="myChart1-2"></canvas>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="t2" role="tabpanel">

                                    </div>
                                    <div class="tab-pane fade" id="t3" role="tabpanel">

                                    </div>
                                    <div class="tab-pane fade" id="t4" role="tabpanel">

                                    </div>
                                    <div class="tab-pane fade" id="t5" role="tabpanel">

                                    </div>
                                    <div class="tab-pane fade" id="t6" role="tabpanel">
                                        <div class="line-chart-area">
                                            <canvas id="myChart6-1"></canvas>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="t7" role="tabpanel">

                                    </div>
                                </div>

                            </div>
                        </div>
                        <!-- content 끝 -->

                    </div>
                    <!-- /.container-fluid -->
                </section>
                <!-- /.content -->
            </div>
            <!-- /.content-wrapper -->
        </div>

        <div id="footer-include">
            <!-- footer include 개발시 상위 div 삭제 요망 -->
        </div>

        <div id="aside-right-include">
            <!-- aside-right include 개발시 상위 div 삭제 요망 -->
        </div>

    </div>
    <!-- ./wrapper -->

    <!-- AdminLTE App -->
    <script src="../../../resources/js/adminlte.js"></script>
    <!-- ui 관련 -->
    <script src="../../../resources/js/ui.js"></script>

    <script>
        var chartRender1_1 = function(){
            const ctx = document.getElementById('myChart1-1').getContext('2d');
            const data = {
                labels: [
                    '구글',
                    '네이버',
                    '다음'
                ],
                datasets: [{
                    label: '채널 별',
                    data: [65, 59, 80, 81, 56, 55, 40],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.6)',
                        'rgba(255, 159, 64, 0.6)',
                        'rgba(255, 205, 86, 0.6)',
                        'rgba(75, 192, 192, 0.6)',
                        'rgba(54, 162, 235, 0.6)',
                        'rgba(153, 102, 255, 0.6)',
                        'rgba(201, 203, 207, 0.6)'
                    ],
                }]
            };
            const myChart = new Chart(ctx, {
                type: 'pie',
                data: data,
                options: {
                    responsive: false,
                    plugins: {
                        legend: {
                            display: false,
                            position: 'bottom',
                            labels: {
                                usePointStyle: true,
                            },
                        }
                    }
                }
            });
        }

        var chartRender1_2 = function(){
            const ctx = document.getElementById('myChart1-2').getContext('2d');
            const data = {
                labels: [
                    '단체부',
                    '일반부',
                    '아동부',
                    '청소년부'
                ],
                datasets: [{
                    label: '부문 별',
                    data: [65, 59, 80, 81],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.6)',
                        'rgba(255, 159, 64, 0.6)',
                        'rgba(255, 205, 86, 0.6)',
                        'rgba(75, 192, 192, 0.6)',
                    ],
                    borderColor: [
                        'rgb(255, 99, 132)',
                        'rgb(255, 159, 64)',
                        'rgb(255, 205, 86)',
                        'rgb(75, 192, 192)',
                    ],
                }]
            };
            const myChart = new Chart(ctx, {
                type: 'bar',
                data: data,
                options: {
                    responsive: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                usePointStyle: true,
                            },
                        }
                    },
                    scales: {
                        xAxes: [{
                            barPercentage: 0.4
                        }]
                    }
                }
            });
        }

        var chartRender6_1 = function(){
            console.log(2);
            const ctx = document.getElementById('myChart6-1').getContext('2d');
            const data = {
                labels: ["20121-02-01","20121-02-01","20121-02-01","20121-02-01","20121-02-01","20121-02-01","20121-02-01",],
                datasets: [
                    {
                        label: "A",
                        backgroundColor: '#0078ff',
                        borderColor: '#0078ff',
                        borderWidth: 2,
                        fill: false,
                        lineTension: 0,
                        pointRadius: 5,
                        pointBorderColor: '#fff',
                        pointHoverRadius: 6,
                        data: [2, 3, 4, 4, 2, 1, 2, 4, 5, 3, 2, 1],
                    },
                    {
                        label: "B",
                        backgroundColor: '#20c997',
                        borderColor: '#20c997',
                        borderWidth: 2,
                        fill: false,
                        lineTension: 0,
                        pointRadius: 5,
                        pointBorderColor: '#fff',
                        pointHoverRadius: 6,
                        data: [5, 1, 8, 7, 7, 5, 1, 4, 6, 3, 1, 9],
                    }
                ],
            };
            const myChart = new Chart(ctx, {
                type: 'line',
                data: data,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    legend: {
                        display: false,
                    },
                    hover: {
                        mode: 'index',
                        intersect: false
                    },
                    scales: {
                        xAxes: [{
                            gridLines: {
                                display: false,
                            },
                            scaleLabel: {
                                display: false,
                            },
                            ticks:{
                                fontSize : 14,
                                padding:30,
                            },
                        }],
                        yAxes: [{
                            scaleLabel: {
                                drawBorder: false,
                            },
                            ticks: {
                                fontSize : 14,
                                stepSize: 1,
                                beginAtZero: true,
                                padding:30,
                            },
                            gridLines:{
                                drawBorder:false,
                            }
                        }]
                    }
                }
            });
        }

        //첫번째 탭은 바로 호출
        chartRender1_1();
        chartRender1_2();
        chartRender6_1();

        //닫혀있는 탭 열릴때 호출
        $('a[href="#t1"]').on('shown.bs.tab', function (event) {
            chartRender1_1();
            chartRender1_2();
        });
        $('a[href="#t6"]').on('shown.bs.tab', function (event) {
            console.log(1);
            chartRender6_1();
        });
    </script>
</body>

</html>
